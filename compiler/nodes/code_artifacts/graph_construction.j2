#{ Template for graph construction with Command pattern (simplified) #}

# Build the state graph
graph_builder = StateGraph(GlobalState)

# ==========================================
# ADD NODES
# ==========================================

{%- for func_name in all_node_functions %}
# Add node: {{ func_name }}
graph_builder.add_node("{{ func_name }}", {{ func_name }})
{%- endfor %}

# ==========================================
# SET ENTRY POINT
# ==========================================

{%- if entry_point %}
graph_builder.set_entry_point("{{ entry_point }}")
{%- endif %}

# ==========================================
# COMPILE GRAPH
# ==========================================
# Note: With Command pattern, nodes handle their own routing!
# No need to manually define edges - they're determined by Command.goto

compiled_graph = graph_builder.compile()
